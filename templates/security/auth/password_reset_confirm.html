{% extends 'base.html' %}
{% load static %}

{% block title %}Nueva contraseña - Sistema de Detección de Anemia{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/auth.css' %}" />
{% endblock %}

{% block standalone_content %}
<div class="auth-container">
  <div class="auth-left">
    <div class="auth-form">
      <h1>Nueva contraseña</h1>
      <p style="color: #666; margin-bottom: 30px; font-size: 0.95rem;">
        Ingresa tu nueva contraseña. Debe tener al menos 8 caracteres.
      </p>

      <form method="post" novalidate>
        {% csrf_token %}

        <div class="form-group">
          <div class="input-with-icon">
            <svg
              class="input-icon"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM15.1 8H8.9V6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1 6V8Z"
                fill="#8BA3B0"
              />
            </svg>
            {{ form.new_password1 }}
          </div>
          {% if form.new_password1.errors %}
          <span class="error-message">{{ form.new_password1.errors.0 }}</span>
          {% endif %}
        </div>

        <div class="form-group">
          <div class="input-with-icon">
            <svg
              class="input-icon"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM15.1 8H8.9V6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1 6V8Z"
                fill="#8BA3B0"
              />
            </svg>
            {{ form.new_password2 }}
          </div>
          {% if form.new_password2.errors %}
          <span class="error-message">{{ form.new_password2.errors.0 }}</span>
          {% endif %}
        </div>

        <button type="submit" class="btn-submit">Restablecer contraseña</button>
      </form>

      <div class="auth-footer">
        <p class="register-link">
          <a href="{% url 'security:login' %}">← Volver al inicio de sesión</a>
        </p>
      </div>
    </div>
  </div>

  <div class="auth-right"></div>
</div>
{% endblock %}
